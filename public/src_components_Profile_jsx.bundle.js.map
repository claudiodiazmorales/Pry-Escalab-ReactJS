{"version":3,"sources":["webpack://pokeapi-redux/./src/components/Profile.jsx"],"names":["Profile","user","useSelector","store","users","loading","useState","displayName","userName","setUserName","formActive","setFormActive","error","setError","dispatch","useDispatch","updateUserName","trim","console","log","updateUserNameAction","selectPhoto","img","target","files","imgClient","undefined","type","editPhotoAction","photoURL","email","display","e","value"],"mappings":"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","file":"src_components_Profile_jsx.bundle.js","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateUserNameAction, editPhotoAction } from \"../redux/userDucks.js\";\n\nconst Profile = () => {\n  const user = useSelector((store) => store.users.user);\n  const loading = useSelector((store) => store.users.loading);\n\n  const [userName, setUserName] = useState(user.displayName);\n  const [formActive, setFormActive] = useState(false);\n  const [error, setError] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const updateUserName = () => {\n    if (!userName.trim()) {\n      console.log(\"nombre vacio\");\n      return;\n    }\n\n    dispatch(updateUserNameAction(userName));\n    setFormActive(false);\n  };\n\n  const selectPhoto = img => {\n    console.log(img.target.files[0]);\n    const imgClient = img.target.files[0];\n\n    if (imgClient === undefined) {\n      console.log(\"no se subio imagen\");\n      return;\n    }\n\n    if (imgClient.type === \"image/png\" || imgClient.type === \"image/jpg\" || imgClient.type === \"image/jpeg\") {\n      dispatch(editPhotoAction(imgClient));\n      console.log('foto ok');\n      setError(false);\n    } else {\n      setError(true);\n      console.log('no subio imagen');\n      return;\n\n    }\n  };\n\n  return (\n    <div className=\"mt-5 text-center\">\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <img src={user.photoURL} alt=\"\" width=\"100px\" className=\"img-fluid\" />\n          <h4 className=\"card-title mt-2\">{user.displayName}</h4>\n          <h5 className=\"card-text\">{user.email}</h5>\n          <button\n            className=\"btn btn-primary mt-3\"\n            onClick={() => setFormActive(true)}\n          >\n            Editar nombre\n          </button>\n\n          {error && (\n            <div className=\"alert alert-warning mt-3\">\n              Solo archivos PNG, JPG o JPEG\n            </div>\n          )}\n\n          <div className=\"custom-file\">\n            <input\n              type=\"file\"\n              className=\"custom-file-input\"\n              id=\"inputGroupFile01\"\n              style={{ display: \"none\" }}\n              onChange={(e) => selectPhoto(e)}\n              disabled = {loading}\n            />\n            <label\n              className={loading ? \"btn btn-dark mt-4 mb-5 disabled\" : \"btn btn-dark mt-4 mb-5\"}\n              htmlFor=\"inputGroupFile01\"\n\n            >\n              Actualizar Imagen\n            </label>\n          </div>\n        </div>\n        {loading && (\n          <div className=\"card-body\">\n            <div className=\"d-flex justify-content-center mt-3\">\n              <div className=\"spinner-border text-danger\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          </div>\n        )}\n        {formActive && (\n          <div className=\"card-body\">\n            <div className=\"row justify-content-center\">\n              <div className=\"col-md-5\">\n                <div className=\"input-group mb-3\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={userName}\n                    onChange={(e) => setUserName(e.target.value)}\n                  />\n                  <div className=\"input-group-append\">\n                    <button\n                      className=\"btn btn-primary\"\n                      type=\"button\"\n                      onClick={() => updateUserName()}\n                    >\n                      Actualizar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"sourceRoot":""}