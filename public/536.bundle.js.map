{"version":3,"sources":["webpack://pokeapi-redux/./src/components/Profile.jsx"],"names":["user","useSelector","store","users","loading","useState","displayName","userName","setUserName","formActive","setFormActive","error","setError","dispatch","useDispatch","className","src","photoURL","alt","width","email","onClick","type","id","style","display","onChange","e","img","console","log","target","files","imgClient","undefined","editPhotoAction","selectPhoto","disabled","htmlFor","role","value","trim","updateUserNameAction"],"mappings":"klCA0HA,UAtHgB,WACd,IAAMA,GAAOC,SAAY,SAACC,GAAD,OAAWA,EAAMC,MAAMH,QAC1CI,GAAUH,SAAY,SAACC,GAAD,OAAWA,EAAMC,MAAMC,WAEnD,KAAgCC,cAASL,EAAKM,aAA9C,GAAOC,EAAP,KAAiBC,EAAjB,KACA,KAAoCH,eAAS,GAA7C,GAAOI,EAAP,KAAmBC,EAAnB,KACA,KAA0BL,eAAS,GAAnC,GAAOM,EAAP,KAAcC,EAAd,KAEMC,GAAWC,UAiCjB,OACE,uBAAKC,UAAU,oBACb,uBAAKA,UAAU,QACb,uBAAKA,UAAU,aACb,uBAAKC,IAAKhB,EAAKiB,SAAUC,IAAI,GAAGC,MAAM,QAAQJ,UAAU,cACxD,sBAAIA,UAAU,mBAAmBf,EAAKM,aACtC,sBAAIS,UAAU,aAAaf,EAAKoB,OAChC,0BACEL,UAAU,uBACVM,QAAS,kBAAMX,GAAc,KAF/B,iBAOCC,GACC,uBAAKI,UAAU,4BAAf,iCAKF,uBAAKA,UAAU,eACb,yBACEO,KAAK,OACLP,UAAU,oBACVQ,GAAG,mBACHC,MAAO,CAAEC,QAAS,QAClBC,SAAU,SAACC,GAAD,OA/CF,SAAAC,GAClBC,QAAQC,IAAIF,EAAIG,OAAOC,MAAM,IAC7B,IAAMC,EAAYL,EAAIG,OAAOC,MAAM,GAEnC,QAAkBE,IAAdD,EAKJ,MAAuB,cAAnBA,EAAUX,MAA2C,cAAnBW,EAAUX,MAA2C,eAAnBW,EAAUX,MAKhFV,GAAS,QACTiB,QAAQC,IAAI,qBALZjB,GAASsB,QAAgBF,IACzBJ,QAAQC,IAAI,gBACZlB,GAAS,IAPTiB,QAAQC,IAAI,sBA0CaM,CAAYT,IAC7BU,SAAYjC,IAEd,yBACEW,UAAWX,EAAU,kCAAoC,yBACzDkC,QAAQ,oBAFV,uBASHlC,GACC,uBAAKW,UAAU,aACb,uBAAKA,UAAU,sCACb,uBAAKA,UAAU,6BAA6BwB,KAAK,UAC/C,wBAAMxB,UAAU,WAAhB,iBAKPN,GACC,uBAAKM,UAAU,aACb,uBAAKA,UAAU,8BACb,uBAAKA,UAAU,YACb,uBAAKA,UAAU,oBACb,yBACEO,KAAK,OACLP,UAAU,eACVyB,MAAOjC,EACPmB,SAAU,SAACC,GAAD,OAAOnB,EAAYmB,EAAEI,OAAOS,UAExC,uBAAKzB,UAAU,sBACb,0BACEA,UAAU,kBACVO,KAAK,SACLD,QAAS,WA5FtBd,EAASkC,QAKd5B,GAAS6B,QAAqBnC,IAC9BG,GAAc,IALZmB,QAAQC,IAAI,kBAwFE","file":"536.bundle.js","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateUserNameAction, editPhotoAction } from \"../redux/userDucks.js\";\n\nconst Profile = () => {\n  const user = useSelector((store) => store.users.user);\n  const loading = useSelector((store) => store.users.loading);\n\n  const [userName, setUserName] = useState(user.displayName);\n  const [formActive, setFormActive] = useState(false);\n  const [error, setError] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const updateUserName = () => {\n    if (!userName.trim()) {\n      console.log(\"nombre vacio\");\n      return;\n    }\n\n    dispatch(updateUserNameAction(userName));\n    setFormActive(false);\n  };\n\n  const selectPhoto = img => {\n    console.log(img.target.files[0]);\n    const imgClient = img.target.files[0];\n\n    if (imgClient === undefined) {\n      console.log(\"no se subio imagen\");\n      return;\n    }\n\n    if (imgClient.type === \"image/png\" || imgClient.type === \"image/jpg\" || imgClient.type === \"image/jpeg\") {\n      dispatch(editPhotoAction(imgClient));\n      console.log('foto ok');\n      setError(false);\n    } else {\n      setError(true);\n      console.log('no subio imagen');\n      return;\n\n    }\n  };\n\n  return (\n    <div className=\"mt-5 text-center\">\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <img src={user.photoURL} alt=\"\" width=\"100px\" className=\"img-fluid\" />\n          <h4 className=\"card-title mt-2\">{user.displayName}</h4>\n          <h5 className=\"card-text\">{user.email}</h5>\n          <button\n            className=\"btn btn-primary mt-3\"\n            onClick={() => setFormActive(true)}\n          >\n            Editar nombre\n          </button>\n\n          {error && (\n            <div className=\"alert alert-warning mt-3\">\n              Solo archivos PNG, JPG o JPEG\n            </div>\n          )}\n\n          <div className=\"custom-file\">\n            <input\n              type=\"file\"\n              className=\"custom-file-input\"\n              id=\"inputGroupFile01\"\n              style={{ display: \"none\" }}\n              onChange={(e) => selectPhoto(e)}\n              disabled = {loading}\n            />\n            <label\n              className={loading ? \"btn btn-dark mt-4 mb-5 disabled\" : \"btn btn-dark mt-4 mb-5\"}\n              htmlFor=\"inputGroupFile01\"\n\n            >\n              Actualizar Imagen\n            </label>\n          </div>\n        </div>\n        {loading && (\n          <div className=\"card-body\">\n            <div className=\"d-flex justify-content-center mt-3\">\n              <div className=\"spinner-border text-danger\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          </div>\n        )}\n        {formActive && (\n          <div className=\"card-body\">\n            <div className=\"row justify-content-center\">\n              <div className=\"col-md-5\">\n                <div className=\"input-group mb-3\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={userName}\n                    onChange={(e) => setUserName(e.target.value)}\n                  />\n                  <div className=\"input-group-append\">\n                    <button\n                      className=\"btn btn-primary\"\n                      type=\"button\"\n                      onClick={() => updateUserName()}\n                    >\n                      Actualizar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"sourceRoot":""}